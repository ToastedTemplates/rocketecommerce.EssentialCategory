@inherits RocketEcommerce.Components.RocketEcommerceTokens<Simplisity.SimplisityRazor>
@using Simplisity;
@using RocketEcommerce.Components;
@using DNNrocketAPI.Components;

@{ 
    var remoteModule = (RemoteModule)Model.GetDataObject("remotemodule");
}

@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/api/App_LocalResources/")
@AddProcessData("resourcepath", "/DesktopModules/DNNrocketModules/RocketECommerce/App_LocalResources/")

<!-- !PAGE CONTENT! -->
<div id="ecommerce-tag" class="ecommerce-container">


    @{

        var sessionParams = (SessionParams)Model.SessionParamsData;

        PortalShopLimpet portalShop = null;
        var productData = (ProductLimpet)Model.GetDataObject("productdata");
        if (productData != null)
        {
            portalShop = productData.PortalShop;
            @RenderTemplate("ProductDetail.cshtml", portalShop.AppTheme, Model, true)
        }
        else
        {
            var productDataList = (ProductLimpetList)Model.GetDataObject("productlist");
            portalShop = productDataList.PortalShop;
            @RenderTemplate("ProductList.cshtml", portalShop.AppTheme, Model, true)
        }
        @AddProcessData("resourcepath", "/DesktopModules/RocketThemes/" + remoteModule.AppThemeFolder + "/" + remoteModule.AppThemeVersion + "/resx/")
    }

</div>

<script>
    $(document).ready(function () {
    });
</script>